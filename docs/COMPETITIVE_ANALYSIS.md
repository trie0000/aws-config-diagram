# 競合分析 & 差別化戦略

## 1. 競合ツール概要

### 1.1 Hava.io（最も多機能）

| ビュー | 内容 | 用途 |
|--------|------|------|
| Infrastructure View | VPC境界 → AZ列 → Subnet → リソース。外部にIGW, VPN GW, S3等。接続線表示 | 全体構成把握 |
| Extended Infrastructure View | 上記 + IP、リソース名フル表示、ストレージ容量、エンジン種別 | 障害切り分け |
| Security View | SGを列レイアウト。ポート/プロトコルの水平矢印、トラフィックフローの垂直矢印 | セキュリティ監査 |
| Container View | ECSクラスタ → サービス → タスク。状態を色分け | コンテナ運用 |
| List View | 全リソース一覧。コスト見積もりソート、CSV出力 | 棚卸し |
| Diff | 2時点比較。追加=緑、削除=赤 | 変更追跡 |

**インタラクション**: リソースクリック → 属性パネル。SGホバー → 関連リソースに緑枠ハイライト。

**価格**: $29/月〜

### 1.2 Cloudcraft

| ビュー | 内容 | 用途 |
|--------|------|------|
| 3Dアイソメトリック図 | AWS公式3Dブロック。VPC/AZ/Subnet境界。コスト表示 | プレゼン |
| 2Dフラット図 | 同内容を2D表示 | 技術調査 |
| Budget View | リソースごとコスト見積もり。日/週/月切替 | FinOps |

**特徴**: ドラッグ&ドロップ手動配置。Live Syncでリソース取込可。複数アカウント/リージョン統合。

**価格**: $49/月〜

### 1.3 Cloudviz.io

| ビュー | 内容 | 用途 |
|--------|------|------|
| Architecture Diagram | AWS標準アイコンで構成図。接続線 | 構成把握 |
| Version History | 時系列変更追跡。追加=緑、変更=黄、削除=赤 | 変更管理 |
| Custom Views | ユーザー定義の可視化設定を保存・再利用 | 標準化 |

**特徴**: Draw.io形式エクスポート。WORD出力。新旧アイコン選択可。

### 1.4 Cloudockit

| ビュー | 内容 | 用途 |
|--------|------|------|
| 2D/3D Architecture | マルチクラウド対応（AWS/Azure/GCP/Hyper-V/VMware） | マルチクラウド |
| Technical Documentation | 自動生成Word/PDF技術文書 | 納品物 |
| Compliance Reports | コンプライアンスレポート | 監査 |

**特徴**: Visio/Draw.io/Lucidchart互換。Excel/JSON出力。

### 1.5 AWS Workload Discovery（公式）

| ビュー | 内容 | 用途 |
|--------|------|------|
| Resource Diagram | 選択リソース + 関連リソース自動追加 | 構成把握 |
| Filtered View | タイプ/アカウント/リージョンでフィルタ | 範囲限定 |

**課題**: 関連リソースが大量追加→図が煩雑。Public/Privateが同色。アクセス経路矢印なし。常時起動で月$425。

---

## 2. 競合の弱点分析

### 2.1 全競合共通の弱点

| 弱点 | 詳細 | 本ツールでの解決策 |
|------|------|-------------------|
| **IAMクレデンシャル送信** | 全SaaS競合がAWSアカウント接続を要求。セキュリティポリシー上使えない企業が多い | Config JSONファイルのみ。ネットワーク不要 |
| **出力が編集不可** | PNG/SVG/PDF → ユーザーが手直しできない | Excel/PPTX → ドラッグ移動・テキスト編集可能 |
| **月額課金** | 最低$29/月。使わない月も課金される | CLI/ローカル実行。OSS版無料 |
| **オフライン不可** | 全てWeb UI前提 | ローカル実行。エアギャップ環境でも動作 |

### 2.2 個別の弱点

| 競合 | 弱点 | 本ツールの優位性 |
|------|------|-----------------|
| Hava.io | SGルールの詳細（ポート番号等）は図上で読みにくい | SG要約マトリクス表を別シート出力 |
| Cloudcraft | 自動レイアウトなし（手動配置）。構成変更時に毎回手作業 | 自動レイアウト。JSON差し替えで即再生成 |
| AWS Workload Discovery | 月$425の常時起動コスト。図が煩雑 | 無料。VPC単位の整理されたレイアウト |
| Cloudockit | AWS特化の深い分析ができない（マルチクラウド汎用のため） | AWS Config特化で深いネットワーク解析 |
| Cloudviz.io | SGフロー可視化が弱い | SG→SG参照を矢印で表示 |

---

## 3. 差別化戦略

### 3.1 コアポジショニング

```
「IAMクレデンシャルを渡さずに、Config JSONだけで、
 編集可能なExcel/PPTXの構成図を、オフラインで生成する」
```

競合が全て「SaaS + アカウント接続」モデルなのに対し、本ツールは「ローカル + ファイル入力」モデル。
このポジションには**競合ゼロ**。

### 3.2 差別化マトリクス

| 機能 | 本ツール | Hava | Cloudcraft | Workload Discovery |
|------|---------|------|------------|-------------------|
| IAM不要（オフライン動作） | **YES** | NO | NO | NO |
| 編集可能出力（Excel/PPTX） | **YES** | NO | NO | NO |
| Config JSON入力 | **YES** | NO | NO | NO |
| 自動レイアウト | YES | YES | **NO** | YES |
| Subnet Tier自動分類 | **YES** | NO | NO | NO |
| SG要約マトリクス | **計画中** | NO | NO | NO |
| 差分比較 | **計画中** | YES | NO | NO |
| 3D表示 | NO | NO | **YES** | NO |
| コスト見積もり | NO | YES | **YES** | NO |
| コンテナビュー | NO | **YES** | NO | NO |
| 月額コスト | 無料 | $29+ | $49+ | $425 |

### 3.3 ユニークな差別化ポイント

#### 差別化1: Config JSONのみで完結（最大の差別化）

SIer/運用チームの現実:
- 顧客環境にIAMクレデンシャルは渡せない
- Config JSONならS3からエクスポートして安全に受け渡し可能
- 競合SaaSは全てアカウント接続前提 → このセグメントは完全に空白

#### 差別化2: 編集可能な出力形式

- Excel: セルの色変更、テキスト追加、印刷範囲設定 → 報告書にそのまま貼付
- PPTX: シェイプ移動、テキスト編集 → プレゼン資料に組み込み
- 競合はPNG/SVG → 「ちょっとだけ修正したい」ができない

#### 差別化3: Subnet Tier自動分類

- Route Tableを解析してPublic/Private/Isolatedを自動判定
- AWS Workload Discoveryの指摘された弱点「Public/Privateが同色」を解決
- 色分け: Public=緑系、Private=青系、Isolated=グレー系

#### 差別化4: SG詳細マトリクス（Phase 2）

- 送信元 × 送信先 × ポート/プロトコルのマトリクス表
- 図上の矢印では伝えきれない詳細情報を補完
- 監査チーム向けに特に価値が高い

#### 差別化5: 構成差分比較（Phase 3）

- 2つのConfig JSONを入力 → 追加=緑/削除=赤/変更=黄でハイライト
- Hava.ioにもDiffがあるが、本ツールは**オフライン + 編集可能出力**で差別化
- S3の定期スナップショットと組み合わせて継続的な変更追跡が可能

---

## 4. レイアウト技術

### 4.1 本ツールのレイアウト手法

**ネスト型コンテナ + AZ列レイアウト** を採用（Hava.ioと同系統だが、Excel/PPTXの座標計算で独自実装）。

```
┌─ VPC ──────────────────────────────────┐
│  ┌─ AZ-1a ─────┐  ┌─ AZ-1c ─────┐    │
│  │ ┌─ Public ─┐ │  │ ┌─ Public ─┐ │   │
│  │ │ [EC2]    │ │  │ │ [ELB]    │ │   │
│  │ └──────────┘ │  │ └──────────┘ │   │
│  │ ┌─ Private ┐ │  │ ┌─ Private ┐ │   │
│  │ │ [App]    │ │  │ │ [App]    │ │   │
│  │ └──────────┘ │  │ └──────────┘ │   │
│  │ ┌─ Isolated┐ │  │ ┌─ Isolated┐ │   │
│  │ │ [RDS]    │ │  │ │ [Redis]  │ │   │
│  │ └──────────┘ │  │ └──────────┘ │   │
│  └──────────────┘  └──────────────┘   │
│                                        │
│  [IGW]  [NAT]  [VPCE-S3]             │
└────────────────────────────────────────┘
  外部: [S3]  [DynamoDB]  [CloudFront]
```

### 4.2 レイアウトの特徴

| 要素 | 手法 | 理由 |
|------|------|------|
| 全体構成 | ネスト型コンテナ（VPC → AZ → Subnet） | AWS構成の自然な表現 |
| AZ配置 | 列方向に並列 | 冗長構成の一目確認 |
| Subnet順序 | 上からPublic → Private → Isolated | トラフィックの流れ（外→内）を上→下で表現 |
| 外部リソース | VPC枠外下部に配置 | VPC内の密度を下げる |
| サイズ調整 | コンテンツ駆動（リソース数に応じて自動拡縮） | 固定サイズだと空白/はみ出しが発生 |
| SG矢印 | SG参照ベースで接続線描画 | JSONに根拠のある接続のみ表示 |

### 4.3 将来のレイアウト改善候補

| 改善 | 効果 | 優先度 |
|------|------|--------|
| SG非準拠リソースに赤枠 | Config Rules連携でセキュリティ可視化 | 中 |
| 0.0.0.0/0 開放ポートを赤矢印で強調 | リスク可視化 | 高 |
| VPC間接続（Peering/TGW）の図示 | マルチVPC環境の通信フロー可視化 | 中 |

---

## 5. ターゲット顧客とユースケース

### 5.1 最優先ターゲット: SIer/運用受託

**なぜ最優先か**: IAMクレデンシャルを顧客に渡せない → 競合SaaSが使えない → 唯一の選択肢になれる

| ユースケース | 現状の痛み | 本ツールでの解決 |
|-------------|----------|-----------------|
| 月次運用レポートに構成図を添付 | 毎月手作業でdraw.ioを更新 | Config JSON差し替えで自動再生成 |
| 引き継ぎ資料の作成 | 口頭説明 + 古い図 | 最新JSONで常に正確な図 |
| セキュリティ監査 | SG設定を目視チェック | SG要約マトリクス + フロー矢印 |
| 変更影響の確認 | before/afterを手動比較 | 差分比較で追加/削除/変更をハイライト |

### 5.2 セカンダリターゲット: 社内インフラチーム

- Config Snapshotを定期取得 → 構成図を自動生成 → Confluenceに添付
- CI/CDパイプラインに組み込んで「構成図のコード化」

---

## 6. 競合に対するGo-to-Market戦略

### Phase 1（現在）: OSS公開でリーチ獲得

- GitHub公開、README充実
- 「AWS Config diagram generator offline」等のSEO
- Qiita/Zenn/dev.toに技術記事

### Phase 2: 差分比較で有料化

- 基本構成図=無料、差分比較=有料のFreemiumモデル
- 「月額なし、買い切り」で競合の月額課金と差別化

### Phase 3: SaaS版で拡大

- Web UIでJSON投入 → 即座に図をダウンロード
- チーム共有、履歴管理
- API提供（CI/CDパイプライン統合）
